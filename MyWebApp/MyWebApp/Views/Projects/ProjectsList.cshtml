@{
    @using MyWebApp.Models
    @model List<Post>
Category category = Category.Wszystkie;
}



<div>
    <div>
        <div class="container text-center mt-3"><a class="h1 font-weight-bold">Moje projekty</a></div>
        <div class="container text-center  mt-2 mb-3"><a class="h6  ">Tutaj znajdziesz wpisy dotyczące moich projektów</a></div>


    </div>

    <form method="post" class="container bg-transparent text-center" style="border-radius: 25px 25px 25px 0px;  " asp-controller="Projects" asp-action="Filter" asp-route-category="@category">
        <label class="text-dark font-weight-bold mt-2">Wybierz kategorię</label>
        <select asp-for="@category" asp-items="Html.GetEnumSelectList<Category>()" onchange="this.form.submit()"></select>
    </form>
    <div class="container mt-3">

        @foreach (Post p in Model)
        {
            if ((p.IsProject && p.IsPublished) || (User.Identity.IsAuthenticated))
            {
                <div class="mt-3 " style="background-color: rgba(255,255,255,0.55);">
                    <div>
                        <div class="container text-center " style=" text-align: justify; word-wrap: break-word;padding-top:15px">
                            <a asp-action="Project" asp-route-id="@p.Id" class="h1 font-weight-bold">@p.Title</a>
                        </div>

                        <div class="container  text-center  h4 " style=" word-wrap: break-word;">
                            <a>@p.ShortDescription</a>
                        </div>

                        <div class="container text-center h6">
                            <a class="text-black-50">Utworzony: @p.Created</a>

                        </div>
                        <div class="container text-center h6">
                            <a class="text-black-50">Kategoria: @p.Category</a>
                        </div>

                        <div class="text-right ">
                            <a class="btn btn-primary mb-2  mr-2" asp-action="Project" asp-route-id="@p.Id">Czytaj dalej</a>
                        </div>
                    </div>
                </div>
            }
        }

    </div>

    <div class="mt-4"></div>
</div>